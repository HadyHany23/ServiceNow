<!doctype html>
<html>
  <head>
    <title>ServiceNow (JS 16-Feb tasks)</title>
  </head>
  <body>
    <!-- Task 1 -->
    <!-- <h2>Weather App</h2> -->
    <!-- <input type="text" id="cityInput" placeholder="Enter city name" /> -->
    <!-- <p id="result"></p> -->

    <!-- Task 2 -->
    <!-- <h2>Weather App</h2> -->
    <!-- <select id="cityInput" style="padding: 5px">
      <option value="paris">paris</option>
      <option value="cairo">cairo</option>
      <option value="london">london</option>
    </select>
    <button onclick="getWeather()" style="padding: 5px; background-color: red">
      Get Weather
    </button>
    <p id="result"></p> -->

    <script>
      // Task 1 (Input functions)
      // function fakeWeather(city) {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       if (city === "paris") {
      //         resolve("Weather in Paris is 18Â°C and sunny!");
      //       } else {
      //         reject("City not found!");
      //       }
      //     }, 2000);
      //   });
      // }

      // async function getWeather() {
      //   const city = document.getElementById("cityInput").value;
      //   const result = document.getElementById("result");

      //   result.textContent = "Loading... ";

      //   try {
      //     const weather = await fakeWeather(city);
      //     result.textContent = weather;
      //   } catch (error) {
      //     result.textContent = error;
      //   }
      // }

      // Task 2 (Drop Down)
      // function fakeWeather(city) {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       if (city === "paris") {
      //         resolve("Weather in Paris is -8Â°C and sunny! ðŸ¥¶");
      //       } else if (city === "cairo") {
      //         resolve("Weather in cairo is 38Â°C and sunny! ðŸ¥µ");
      //       } else if (city === "london") {
      //         resolve("Weather in london is 28Â°C and sunny!");
      //       } else {
      //         reject("City not found!");
      //       }
      //     }, 2000);
      //   });
      // }

      // async function getWeather() {
      //   const city = document.getElementById("cityInput").value;
      //   const result = document.getElementById("result");

      //   result.textContent = "Loading... ";

      //   try {
      //     const weather = await fakeWeather(city);
      //     result.textContent = weather;
      //   } catch (error) {
      //     result.textContent = error;
      //   }
      // }

      // Task 3
      async function processTodos() {
        try {
          const response = await fetch(
            "https://jsonplaceholder.typicode.com/todos",
          );
          const todos = await response.json();

          let completedCount = 0;
          for (let i = 0; i < todos.length; i++) {
            if (todos[i].completed) completedCount++;
          }
          console.log("Completed Todos:", completedCount);

          let longTitles = [];
          for (let i = 0; i < todos.length; i++) {
            if (todos[i].title.length > 20) {
              longTitles.push(todos[i].title);
            }
          }
          console.log("Titles longer than 20 characters:");
          console.log(longTitles);

          const mappedTodos = todos.map((todo) => ({
            id: todo.id,
            titleLength: todo.title.length,
          }));
          console.log("Mapped Todos:");
          console.log(mappedTodos);
        } catch (error) {
          console.error("Error fetching todos:", error);
        }
      }
      processTodos();
    </script>
  </body>
</html>
